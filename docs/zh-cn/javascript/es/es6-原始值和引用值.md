### 原始值和引用值 <!-- {docsify-ignore} -->

**文档更新日期: {docsify-updated}**



**在ECMAScript中，变量可以存在两种类型的值，即原始值和引用值**



#### 原始值和引用值  <!-- {docsify-ignore} -->

---

- 原始值

  存储在栈（stack）中的简单数据段，也就是说，它们的值直接存储在变量访问的位置。

- 引用值

  存储在堆（heap）中的对象，也就是说，存储在变量处的值是一个指针（point），指向存储对象的内存处。

为变量赋值时，ECMAScript 的解释程序必须判断该值是原始类型，还是引用类型。要实现这一点，解释程序则需尝试判断*该值是否为 ECMAScript 的原始类型之一*，即 Undefined、Null、Boolean、Number和String型。由于这些原始类型占据的空间是固定的，所以可将他们存储在较小的内存区域 - 栈中。这样存储便于迅速查寻变量的值。

**在许多语言中，字符串都被看作引用类型，而非原始类型，因为字符串的长度是可变的。ECMAScript打破了这一传统。**

如果一个值是引用类型的，那么它的存储空间将从堆中分配。由于引用值的大小会改变，所以不能把它放在栈中，否则会降低变量查寻的速度。相反，放在变量的栈空间中的值是该对象存储在堆中的地址。地址的大小是固定的，所以把它存储在栈中对变量性能无任何负面影响。如下图所示：

![存储在堆和栈中的原始值和引用值](https://typora-img-1257000606.cos.ap-beijing.myqcloud.com/uPic/zJPOXz000201609201937112397.gif)



