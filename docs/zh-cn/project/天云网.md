# 天云网

项目开发手册

## 在线分析

### 大气污染成因分析

#### 空气质量分析

##### **组件列表**

<!-- tabs:start -->

###### **1.选择数据**

**选择城市**

- 调用后端接口,获取城市列表
- 选择两种模式
  - 选择城市`['天津市',120000]`
  - 选择省份 `'河北省'`

**选择时间**

- 使用日期区间选择器
- 不能选择超过今日
- 格式化: YYYY-MM-DD
- 选中值:`['2021-01-01','2021-02-02]`

![2022-02-16 13.48.37](https://typora-img-1257000606.cos.ap-beijing.myqcloud.com/uPic/2022-02-16%2013.48.37-20220216134910.gif)

![2022-02-21 14.17.34](https://typora-img-1257000606.cos.ap-beijing.myqcloud.com/uPic/2022-02-21%2014.17.34-20220221141751.gif)

###### **2.选择图表样式**

1. 单选
2. 选中后可以根据图表类型生成对应类型的图表

![2022-02-16 13.47.01](https://typora-img-1257000606.cos.ap-beijing.myqcloud.com/uPic/2022-02-16%2013.47.01-20220216134749.gif)

###### **3.图表生成**

1. 引用 `ECharts`插件
2. 通过父组件调用`generate()`传递`seriesData`
3. 设置图表的`option`
4. 生成图表

!> 需要解决组件挂载和销毁的问题;不然会出现只能生成一次

###### **4.文档/描述生成**

<!-- tabs:end -->

##### **页面路由组件**

<!-- tabs:start -->

###### **1.常规污染物及比值演变趋势**

**图表**

1. 折线图 1
2. 折线图 2
3. 柱状图 1
4. 柱状图 2
5. 面积图 1
6. 面积图 2
7. 混合图 1
8. 混合图 2

###### **2.污染物浓度累积率**

逻辑:常规六项数据中每一项采用`后一天 / 前一天` 比值.

!> 为解决第一天的问题,需要在传递日期区间的时候做处理,需要多选择前一天之后调用接口

**图表**

1. 折线图

   Y 轴需要增加值为`1`的**标准线**

2. 柱状图

3. 面积图

###### **3.污染物空间分布特征**

<!-- tabs:end -->

######
